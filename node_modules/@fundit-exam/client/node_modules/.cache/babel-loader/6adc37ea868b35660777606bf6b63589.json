{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\raz\\\\Desktop\\\\fundit-exam-main\\\\client\\\\src\\\\App.tsx\";\nimport React from \"react\";\nimport \"./App.css\";\nimport { Matches } from \"./Matches\";\nimport { createApiClient } from \"./api\";\nconst api = createApiClient();\n\nconst App = () => {\n  const [search, setSearch] = React.useState(\"\");\n  const [ListApproved, setListApproved] = React.useState([]);\n  const [countApproved, setCountApproved] = React.useState(0);\n  const [matches, setMatches] = React.useState([]);\n  const [offset, setOffset] = React.useState(0);\n  React.useEffect(() => {\n    async function fetchMatches() {\n      const onScroll = () => setOffset(window.pageYOffset);\n\n      setMatches(await api.getMatches());\n      window.removeEventListener('scroll', onScroll);\n      window.addEventListener('scroll', onScroll, {\n        passive: true\n      });\n      return () => window.removeEventListener('scroll', onScroll);\n    }\n\n    fetchMatches();\n  }, []);\n  let searchDebounce;\n\n  const onSearch = (val, newPage) => {\n    clearTimeout(searchDebounce);\n    searchDebounce = setTimeout(async () => {\n      setSearch(val);\n    }, 300);\n  };\n\n  const aprovalCounter = (id, number) => {\n    let findIdInList = ListApproved.find(x => x == id);\n    console.log(findIdInList);\n\n    if (findIdInList == undefined) {\n      setListApproved(prevArray => [...prevArray, id]);\n      setCountApproved(+countApproved + +number);\n    } else if (number < 0) {\n      let filterList = ListApproved.filter(x => x != id);\n      setListApproved([...filterList]);\n      setCountApproved(+countApproved + +number);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"main\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, \"Matches List\"), countApproved == 1 || countApproved == 0 ? /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 52\n    }\n  }, \" \", countApproved, \" user aprovel  \") : /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 94\n    }\n  }, \" \", countApproved, \" users aprovel\"), /*#__PURE__*/React.createElement(\"header\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"search\",\n    placeholder: \"Search...\",\n    onChange: e => onSearch(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  })), matches ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"results\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, \"Showing \", matches.length, \" results\") : null, matches ? /*#__PURE__*/React.createElement(Matches, {\n    matches: matches,\n    search: search,\n    countApproved: countApproved,\n    callback: (id, number) => aprovalCounter(id, number),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }) : /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, \"Loading...\"));\n};\n\nexport default App;","map":{"version":3,"sources":["C:/Users/raz/Desktop/fundit-exam-main/client/src/App.tsx"],"names":["React","Matches","createApiClient","api","App","search","setSearch","useState","ListApproved","setListApproved","countApproved","setCountApproved","matches","setMatches","offset","setOffset","useEffect","fetchMatches","onScroll","window","pageYOffset","getMatches","removeEventListener","addEventListener","passive","searchDebounce","onSearch","val","newPage","clearTimeout","setTimeout","aprovalCounter","id","number","findIdInList","find","x","console","log","undefined","prevArray","filterList","filter","e","target","value","length"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,WAAP;AACA,SAASC,OAAT,QAAwB,WAAxB;AACA,SAASC,eAAT,QAAuC,OAAvC;AAOA,MAAMC,GAAG,GAAGD,eAAe,EAA3B;;AACA,MAAME,GAAG,GAAG,MAAM;AAChB,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBN,KAAK,CAACO,QAAN,CAAuB,EAAvB,CAA5B;AACA,QAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCT,KAAK,CAACO,QAAN,CAAyB,EAAzB,CAAxC;AACA,QAAM,CAACG,aAAD,EAAgBC,gBAAhB,IAAoCX,KAAK,CAACO,QAAN,CAAuB,CAAvB,CAA1C;AACA,QAAM,CAACK,OAAD,EAAUC,UAAV,IAAwBb,KAAK,CAACO,QAAN,CAAwB,EAAxB,CAA9B;AACA,QAAM,CAACO,MAAD,EAASC,SAAT,IAAsBf,KAAK,CAACO,QAAN,CAAuB,CAAvB,CAA5B;AACAP,EAAAA,KAAK,CAACgB,SAAN,CAAgB,MAAM;AAEpB,mBAAeC,YAAf,GAA8B;AAC5B,YAAMC,QAAQ,GAAG,MAAMH,SAAS,CAACI,MAAM,CAACC,WAAR,CAAhC;;AACGP,MAAAA,UAAU,CAAC,MAAMV,GAAG,CAACkB,UAAJ,EAAP,CAAV;AACDF,MAAAA,MAAM,CAACG,mBAAP,CAA2B,QAA3B,EAAqCJ,QAArC;AACAC,MAAAA,MAAM,CAACI,gBAAP,CAAwB,QAAxB,EAAkCL,QAAlC,EAA4C;AAAEM,QAAAA,OAAO,EAAE;AAAX,OAA5C;AACA,aAAO,MAAML,MAAM,CAACG,mBAAP,CAA2B,QAA3B,EAAqCJ,QAArC,CAAb;AACH;;AACDD,IAAAA,YAAY;AACb,GAVD,EAUG,EAVH;AAWA,MAAIQ,cAAJ;;AACA,QAAMC,QAAQ,GAAG,CAACC,GAAD,EAAcC,OAAd,KAAmC;AAClDC,IAAAA,YAAY,CAACJ,cAAD,CAAZ;AACAA,IAAAA,cAAc,GAAGK,UAAU,CAAC,YAAY;AACtCxB,MAAAA,SAAS,CAACqB,GAAD,CAAT;AACD,KAF0B,EAExB,GAFwB,CAA3B;AAGD,GALD;;AAOA,QAAMI,cAAc,GAAG,CAACC,EAAD,EAAeC,MAAf,KAAmC;AACtD,QAAIC,YAAY,GAAG1B,YAAY,CAAC2B,IAAb,CAAkBC,CAAC,IAAIA,CAAC,IAAIJ,EAA5B,CAAnB;AACAK,IAAAA,OAAO,CAACC,GAAR,CAAYJ,YAAZ;;AACA,QAAGA,YAAY,IAAKK,SAApB,EAA+B;AAC7B9B,MAAAA,eAAe,CAAC+B,SAAS,IAAI,CAAC,GAAGA,SAAJ,EAAeR,EAAf,CAAd,CAAf;AACArB,MAAAA,gBAAgB,CAAC,CAACD,aAAD,GAAiB,CAACuB,MAAnB,CAAhB;AACD,KAHD,MAIK,IAAGA,MAAM,GAAG,CAAZ,EAAe;AAClB,UAAIQ,UAAU,GAAGjC,YAAY,CAACkC,MAAb,CAAoBN,CAAC,IAAIA,CAAC,IAAIJ,EAA9B,CAAjB;AACAvB,MAAAA,eAAe,CAAC,CAAC,GAAGgC,UAAJ,CAAD,CAAf;AACA9B,MAAAA,gBAAgB,CAAC,CAACD,aAAD,GAAiB,CAACuB,MAAnB,CAAhB;AACD;AAEJ,GAbD;;AAeA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,EAEGvB,aAAa,IAAI,CAAjB,IAAsBA,aAAa,IAAI,CAAvC,gBAA4C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAMA,aAAN,oBAA5C,gBAAsF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAMA,aAAN,mBAFzF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,IAAI,EAAC,QADP;AAEE,IAAA,WAAW,EAAC,WAFd;AAGE,IAAA,QAAQ,EAAGiC,CAAD,IAAOjB,QAAQ,CAACiB,CAAC,CAACC,MAAF,CAASC,KAAV,CAH3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAHF,EAUGjC,OAAO,gBACN;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAkCA,OAAO,CAACkC,MAA1C,aADM,GAEJ,IAZN,EAaGlC,OAAO,gBACN,oBAAC,OAAD;AAAS,IAAA,OAAO,EAAEA,OAAlB;AAA2B,IAAA,MAAM,EAAEP,MAAnC;AAA2C,IAAA,aAAa,EAAEK,aAA1D;AAAyE,IAAA,QAAQ,EAAG,CAACsB,EAAD,EAAMC,MAAN,KAAiBF,cAAc,CAACC,EAAD,EAAMC,MAAN,CAAnH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADM,gBAGN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAhBJ,CADF;AAqBD,CA7DD;;AA8DA,eAAe7B,GAAf","sourcesContent":["import React from \"react\";\nimport \"./App.css\";\nimport { Matches } from \"./Matches\";\nimport { createApiClient, Match } from \"./api\";\n\nexport type AppState = {\n  matches?: Match[];\n  search: string;\n};\n\nconst api = createApiClient();\nconst App = () => {\n  const [search, setSearch] = React.useState<string>(\"\");\n  const [ListApproved, setListApproved] = React.useState<String[]>([]);\n  const [countApproved, setCountApproved] = React.useState<Number>(0);\n  const [matches, setMatches] = React.useState<Match[]>([]);\n  const [offset, setOffset] = React.useState<Number>(0);\n  React.useEffect(() => {\n  \n    async function fetchMatches() {\n      const onScroll = () => setOffset(window.pageYOffset);\n         setMatches(await api.getMatches());\n        window.removeEventListener('scroll', onScroll);\n        window.addEventListener('scroll', onScroll, { passive: true });\n        return () => window.removeEventListener('scroll', onScroll);\n    }\n    fetchMatches();\n  }, []);\n  let searchDebounce: any;\n  const onSearch = (val: string, newPage?: number) => {\n    clearTimeout(searchDebounce);\n    searchDebounce = setTimeout(async () => {\n      setSearch(val);\n    }, 300);\n  };  \n\n  const aprovalCounter = (id : String , number : Number) => {\n      let findIdInList = ListApproved.find(x => x == id)\n      console.log(findIdInList)\n      if(findIdInList  == undefined ){\n        setListApproved(prevArray => [...prevArray, id])\n        setCountApproved(+countApproved + +number)\n      }\n      else if(number < 0) {\n        let filterList = ListApproved.filter(x => x != id)\n        setListApproved([...filterList])\n        setCountApproved(+countApproved + +number)\n      }\n    \n  }\n\n  return (\n    <main>\n      <h1>Matches List</h1>\n      {countApproved == 1 || countApproved == 0  ? <h3> {countApproved} user aprovel  </h3> :<h3> {countApproved} users aprovel</h3>} \n      <header>\n        <input\n          type=\"search\"\n          placeholder=\"Search...\"\n          onChange={(e) => onSearch(e.target.value)}\n        />\n      </header>\n      {matches ? (\n        <div className=\"results\">Showing {matches.length} results</div>\n      ) : null}\n      {matches ? (\n        <Matches matches={matches} search={search} countApproved={countApproved} callback={ (id , number) => aprovalCounter(id , number) }/>\n      ) : (\n        <h2>Loading...</h2>\n      )}\n    </main>\n  );\n};\nexport default App;\n"]},"metadata":{},"sourceType":"module"}